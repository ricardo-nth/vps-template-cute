---
/**
 * ServicesOverview.astro - Services section (BeyondFS style)
 *
 * Blocky cards with plant/flower icons, numbered titles, and pill buttons.
 */

import Eyebrow from './Eyebrow.astro';

interface Service {
  title: string;
  description: string;
  href?: string;
  ctaText?: string;
  icon?: 'seedling' | 'tree' | 'lotus';
}

interface Props {
  eyebrow?: string;
  heading?: string;
  intro?: string;
  services?: Service[];
  sectionId?: string;
}

const {
  eyebrow = "OUR SERVICES",
  heading = "[Your Services Headline]",
  intro = "[Brief description of your service approach and what makes you different]",
  sectionId = "services",
  services = [
    {
      title: "[Service 1 Name]",
      description: "[Service 1 description - what it includes and who it's for]",
      href: "/services#service-1",
      ctaText: "Learn more",
      icon: "seedling"
    },
    {
      title: "[Service 2 Name]",
      description: "[Service 2 description - what it includes and who it's for]",
      href: "/services#service-2",
      ctaText: "Learn more",
      icon: "tree"
    },
    {
      title: "[Service 3 Name]",
      description: "[Service 3 description - what it includes and who it's for]",
      href: "/services#service-3",
      ctaText: "Learn more",
      icon: "lotus"
    },
  ],
} = Astro.props as Props;
---

<section id={sectionId} class="bg-background py-20 lg:py-32">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Section Header with dash -->
    <div class="mb-12 max-w-2xl">
      <Eyebrow text={eyebrow} />
      <h2 class="text-3xl sm:text-4xl font-bold text-foreground tracking-tight mb-4">
        {heading}
      </h2>
      <p class="text-muted-foreground text-lg leading-relaxed">
        {intro}
      </p>
    </div>

    <!-- Service Cards - 2 column grid, 3rd spans both -->
    <div class="grid md:grid-cols-2 gap-6">
      {services.map((service, index) => (
        <div class={`bg-accent-secondary/30 rounded-xl p-8 lg:p-10 border-b-4 border-teal ${index === 2 ? 'md:col-span-2' : ''}`}>

          <!-- Plant/Flower Icon -->
          <div class="mb-6 w-20 h-20">
            {service.icon === 'seedling' && (
              <!-- Seedling: Growing plant in pot - represents home growth -->
              <svg viewBox="0 0 64 64" class="w-full h-full text-teal" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <!-- Pot -->
                <path d="M20 42 L44 42 L40 56 L24 56 Z" />
                <!-- Soil line -->
                <path d="M22 42 L42 42" />
                <!-- Stem -->
                <path d="M32 42 L32 28" />
                <!-- Left leaf -->
                <path d="M32 34 C26 34 22 28 22 22 C28 22 32 28 32 34" fill="currentColor" opacity="0.15" />
                <!-- Right leaf -->
                <path d="M32 28 C38 28 44 22 44 14 C38 14 32 22 32 28" fill="currentColor" opacity="0.15" />
                <!-- Small sprout at top -->
                <circle cx="32" cy="24" r="2" fill="currentColor" opacity="0.3" />
              </svg>
            )}
            {service.icon === 'tree' && (
              <!-- Tree: Branching tree - represents community connections -->
              <svg viewBox="0 0 64 64" class="w-full h-full text-teal" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <!-- Trunk -->
                <path d="M32 58 L32 36" />
                <!-- Main branches -->
                <path d="M32 36 L20 24" />
                <path d="M32 36 L44 24" />
                <path d="M32 42 L24 34" />
                <path d="M32 42 L40 34" />
                <!-- Leaves/circles at branch ends -->
                <circle cx="20" cy="20" r="6" fill="currentColor" opacity="0.15" />
                <circle cx="44" cy="20" r="6" fill="currentColor" opacity="0.15" />
                <circle cx="24" cy="30" r="5" fill="currentColor" opacity="0.15" />
                <circle cx="40" cy="30" r="5" fill="currentColor" opacity="0.15" />
                <circle cx="32" cy="14" r="7" fill="currentColor" opacity="0.15" />
                <!-- Center top branch -->
                <path d="M32 36 L32 20" />
              </svg>
            )}
            {service.icon === 'lotus' && (
              <!-- Lotus: Peaceful flower - represents calm and respite -->
              <svg viewBox="0 0 64 64" class="w-full h-full text-teal" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <!-- Center petal -->
                <ellipse cx="32" cy="28" rx="6" ry="14" fill="currentColor" opacity="0.15" />
                <!-- Left petals -->
                <ellipse cx="22" cy="32" rx="5" ry="12" transform="rotate(-30 22 32)" fill="currentColor" opacity="0.15" />
                <ellipse cx="14" cy="38" rx="4" ry="10" transform="rotate(-50 14 38)" fill="currentColor" opacity="0.15" />
                <!-- Right petals -->
                <ellipse cx="42" cy="32" rx="5" ry="12" transform="rotate(30 42 32)" fill="currentColor" opacity="0.15" />
                <ellipse cx="50" cy="38" rx="4" ry="10" transform="rotate(50 50 38)" fill="currentColor" opacity="0.15" />
                <!-- Water line -->
                <path d="M8 48 Q20 44 32 48 Q44 52 56 48" />
                <!-- Small ripple -->
                <path d="M16 52 Q32 48 48 52" opacity="0.5" />
              </svg>
            )}
          </div>

          <!-- Numbered title -->
          <h3 class="text-2xl sm:text-3xl font-bold text-foreground mb-4">
            {index + 1}. {service.title}
          </h3>

          <!-- Description -->
          <p class="text-muted-foreground text-lg leading-relaxed mb-8">
            {service.description}
          </p>

          <!-- Pill button -->
          {service.href && (
            <a
              href={service.href}
              class="inline-flex items-center justify-center rounded-full bg-teal px-6 py-3 text-sm font-semibold text-teal-foreground transition-all hover:bg-teal/90"
            >
              {service.ctaText || "Learn more"}
            </a>
          )}
        </div>
      ))}
    </div>
  </div>
</section>
